{"version":3,"sources":["../src/input_datetime.js"],"names":["inputDatetimeDirective","restrict","require","link","$scope","$elem","attrs","ngModel","formats","fromUser","text","parsed","moment","isValid","$setValidity","undefined","$parsers","push"],"mappings":";;;;;;AAIO,WAASA,sBAAT,GAAkC;AACvC,WAAO;AACLC,gBAAU,GADL;AAELC,eAAS,SAFJ;AAGLC,YAAM,cAAUC,MAAV,EAAkBC,KAAlB,EAAyBC,KAAzB,EAAgCC,OAAhC,EAAyC;;AAE7C,YAAIC,UAAU,CAAC,qBAAD,EAAwB,qBAAxB,CAAd;;AAEA,YAAIC,WAAW,SAAXA,QAAW,CAAUC,IAAV,EAAgB;;AAE7B,cAAIC,MAAJ;AACAA,mBAASC,OAAOF,IAAP,EAAaF,OAAb,EAAsB,IAAtB,CAAT;;AAEA,cAAIE,QAAQ,EAAR,IAAc,CAACC,OAAOE,OAAP,EAAnB,EAAqC;AACnCN,oBAAQO,YAAR,CAAqB,OAArB,EAA8B,KAA9B;AACA,mBAAOC,SAAP;AACD;;AAEDR,kBAAQO,YAAR,CAAqB,OAArB,EAA8B,IAA9B;AACA;AACA,iBAAOJ,IAAP;AACD,SAbD;;AAeN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEMH,gBAAQS,QAAR,CAAiBC,IAAjB,CAAsBR,QAAtB;AACN;AACK;AAhCI,KAAP;AAkCD;;oCAnCeT,sB;;;;AAHTY,Y","file":"input_datetime.js","sourcesContent":["\nimport moment from 'moment';\n\n\nexport function inputDatetimeDirective() {\n  return {\n    restrict: 'A',\n    require: 'ngModel',\n    link: function ($scope, $elem, attrs, ngModel) {\n\n      var formats = [\"YYYY-MM-DD HH:mm:ss\", \"YYYY/MM/DD HH:mm:ss\"];\n\n      var fromUser = function (text) {\n\n        var parsed;\n        parsed = moment(text, formats, true);\n\n        if (text != \"\" && !parsed.isValid()) {\n          ngModel.$setValidity(\"error\", false);\n          return undefined;\n        }\n\n        ngModel.$setValidity(\"error\", true);\n        //return parsed;\n        return text;\n      };\n\n//      var toUser = function (currentValue) {\n//        if (moment.isMoment(currentValue)) {\n//          return currentValue.format(format);\n//        } else {\n//          return currentValue;\n//        }\n//      };\n\n      ngModel.$parsers.push(fromUser);\n//      ngModel.$formatters.push(toUser);\n    }\n  };\n}\n"]}